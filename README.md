# Blockchain-Challenge
Marketplace which accepts criptocurrency.

-> [User Stories](stories.md):

-> [Architecture](architecture.md):

## Running the app: 

### Prerequisites

* NodeJs (NPM)
* Metamask
* CORS Policies plugin.(Since we are making request in a crossdomain from a localhost) (https://chrome.google.com/webstore/detail/moesif-orign-cors-changer/digfbfaphojjndkpccljibejjbppifbc?hl=en)

(You can also run chrome with web security disabled)

### Installing the dependencies: 

* `npm i -g ganacha-cli` (In-memory blockchain)
* `npm i -g solc` (Javascript bindings to Solidity compiler)
* `npm i -g truffle` (Framework for Ethereum)
* `npm i` Extra dependencias

### Runnning the app: 

* `ganache-cli -p 7545` (Run a local blockchain on port 7545) 
*  Import a Metamask account with the mnemonic generated by ganache-cli (12 words)
*  Click in Metamask and connect to a custom RPC -> http://127.0.0.1:7545 
* `truffle compile` (Compile .sol files) 
* `truffle migrate` (Deploys contract to Ethereum network)
*  Open CORS plugin and click "Enable cross-origin resource sharing"  (If you're running the app in the latest chrome version 2019-08-15 plugins won't work, then you have to run chrome without web securiy with the following command for Os x `open -n -a /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --args --user-data-dir="~/Library/Application Support/Google/Chrome" --disable-web-security` ) See more -> https://alfilatov.com/posts/run-chrome-without-cors/
* `npm run dev` (Run application on port 3002) 
* `npm run back` (In another console to run the backend in port 9000) 

This application used the following sources: 

* https://medium.com/zastrin/build-an-ethereum-dapp-using-ethers-js-c561f9c4dd2f
* https://www.trufflesuite.com/tutorials/pet-shop
* https://solidity.readthedocs.io/en/v0.4.24/introduction-to-smart-contracts.html
* https://www.codementor.io/rogargon/exercise-simple-solidity-smart-contract-for-ethereum-blockchain-m736khtby
